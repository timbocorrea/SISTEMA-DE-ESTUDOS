<!DOCTYPE html>
<html>

<head>
    <title>Test Course Data Loading</title>
    <style>
        body {
            background: #0a0e14;
            color: #fff;
            font-family: monospace;
            padding: 20px;
        }

        .success {
            color: #10b981;
        }

        .error {
            color: #ef4444;
        }

        .warning {
            color: #f59e0b;
        }

        pre {
            background: #1a1e24;
            padding: 15px;
            border-radius: 8px;
            overflow: auto;
        }
    </style>
</head>

<body>
    <h1>üîç Course Data Debug</h1>
    <div id="output"></div>

    <script>
        const log = (msg, type = 'info') => {
            const div = document.createElement('div');
            div.className = type;
            div.textContent = msg;
            document.getElementById('output').appendChild(div);
        };

        // Simular o comportamento do App.tsx
        log('üìä Testando carregamento de dados dos cursos...', 'info');
        log('‚è±Ô∏è Iniciando timer...', 'info');

        const start = performance.now();

        // Simular um curso com muitos m√≥dulos
        const testCourse = {
            id: 'ads-1',
            title: 'AN√ÅLISE E DESENVOLVIMENTO DE SISTEMAS',
            modules: Array.from({ length: 50 }, (_, i) => ({
                id: `module-${i}`,
                title: `M√≥dulo ${i + 1}`,
                lessons: Array.from({ length: 20 }, (_, j) => ({
                    id: `lesson-${i}-${j}`,
                    title: `Aula ${j + 1}`
                }))
            }))
        };

        const end = performance.now();
        log(`‚úÖ Dados criados em ${(end - start).toFixed(2)}ms`, 'success');
        log(`üìö Total de m√≥dulos: ${testCourse.modules.length}`, 'info');
        log(`üìù Total de aulas: ${testCourse.modules.reduce((acc, m) => acc + m.lessons.length, 0)}`, 'info');

        // Simular renderiza√ß√£o
        log('\nüé® Simulando renderiza√ß√£o...', 'info');
        const renderStart = performance.now();

        let html = '<div>';
        testCourse.modules.forEach(module => {
            html += `<div>${module.title}</div>`;
            module.lessons.forEach(lesson => {
                html += `<div>  ${lesson.title}</div>`;
            });
        });
        html += '</div>';

        const renderEnd = performance.now();
        log(`‚úÖ Renderiza√ß√£o simulada em ${(renderEnd - renderStart).toFixed(2)}ms`, 'success');

        if (renderEnd - renderStart > 100) {
            log(`‚ö†Ô∏è AVISO: Renderiza√ß√£o demorou mais de 100ms!`, 'warning');
            log(`üí° Solu√ß√£o: Implementar virtualiza√ß√£o ou lazy loading`, 'warning');
        }

        log('\nüìå Conclus√£o:', 'info');
        log('Se o delay real √© maior que isso, o problema pode ser:', 'info');
        log('  1. Chamadas de API ainda acontecendo', 'error');
        log('  2. Transi√ß√µes CSS muito longas', 'warning');
        log('  3. Dados n√£o pr√©-carregados', 'error');

        log('\nüîß A√ß√µes recomendadas:', 'info');
        log('  ‚Ä¢ Abrir DevTools > Network tab', 'info');
        log('  ‚Ä¢ Verificar se h√° requisi√ß√µes ao clicar no curso', 'info');
        log('  ‚Ä¢ Verificar console.log dos dados de adminCourses', 'info');
    </script>
</body>

</html>